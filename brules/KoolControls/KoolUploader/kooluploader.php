<?php $_gl0="\062.1.\060\056\060"; function _gO0($_gl1) { return md5($_gl1); } function _gO1() { $_gl2=_gO2("\134","\057",strtolower($_SERVER["\123\103RIPT_NA\115\105"])); $_gl2=_gO2(strrchr($_gl2,"\057"),"",$_gl2); $_gl3=_gO2("\134","\057",realpath("\056")); $_gO3=_gO2($_gl2,"",strtolower($_gl3)); return $_gO3; } function _gO2($_gl4,$_gO4,$_gl5) { return str_replace($_gl4,$_gO4,$_gl5); } class _gi10 { static $_gi10="\173\060}\1731}<\144\151v id='\173\151d}' cl\141\163s='\173\163\164yle}\113\125L' st\171\154\145='wi\144\164\150:\173w\151\144th};h\145\151ght:\173\150\145ight}\073\047>\173ma\151\156\143onte\156\164\175\173u\160\154oade\144\106\151les}\173\164\145mpla\164\145s}</d\151\166>\1732}"; } function _gO5() { header("Content\055\164ype: t\145\170\164/ja\166\141\163crip\164"); } function _gl6() { echo "var _g\151\117\061=0;"; } function _gO6() { return exit (); } function _gl7() { return _gi10::$_gi10; } function _gO7( &$_gl8) { for ($_gO8=0; $_gO8<3; $_gO8 ++) $_gl8=_gO2("\173".$_gO8."\175","",$_gl8); return TRUE; } if ( isset ($_GET[_gO0("\152s")])) { _gO5(); ?> function _gO(_go){return (_go!=null);}function _gY(_gy){return document.getElementById(_gy); }function _gI(_gi,_gA){var _ga=document.createElement(_gi); _gA.appendChild(_ga); return _ga; }function _gE(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.firstChild; return _go; }function _gU(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.nextSibling; return _go; }function _gu(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.parentNode; return _go; }function _gZ(_go,_gz){_go.style.height=_gz+"px"; }function _gX(_go,_gz){_go.style.width=_gz+"px"; }function _gx(_gW,_gw,_gV){_gV=_gO(_gV)?_gV:document.body; var _gv=_gV.getElementsByTagName(_gW); var _gT=new Array(); for (var i=0; i<_gv.length; i++)if (_gv[i].className.indexOf(_gw)>=0){_gT.push(_gv[i]); }return _gT; }function _gt(){return (typeof(_giO1)=="undefined");}function _gS(_go,_gz){_go.style.display=(_gz)?"": "none"; }function _gs(_go){return (_go.style.display!="none"); }function _gR(_go){return _go.className; }function _gr(_go,_gz){_go.className=_gz; }function _gQ(_gq,_gP,_gp){_gr(_gp,_gR(_gp).replace(_gq,_gP)); }function _gN(_go,_gw){if (_go.className.indexOf(_gw)<0){var _gn=_go.className.split(" "); _gn.push(_gw); _go.className=_gn.join(" "); }}function _gM(_go,_gw){if (_go.className.indexOf(_gw)>-1){_gQ(_gw,"",_go); var _gn=_go.className.split(" "); _go.className=_gn.join(" "); }}function _gm(_gL,_gl,_gK,_gk){if (_gL.addEventListener){_gL.addEventListener(_gl,_gK,_gk); return true; }else if (_gL.attachEvent){if (_gk){return false; }else {var _gJ= function (){_gK.apply(_gL,[window.event]); };if (!_gL["ref"+_gl])_gL["ref"+_gl]=[]; else {for (var _gj in _gL["ref"+_gl]){if (_gL["ref"+_gl][_gj]._gK === _gK)return false; }}var _gH=_gL.attachEvent("on"+_gl,_gJ); if (_gH)_gL["ref"+_gl].push( {_gK:_gK,_gJ:_gJ } ); return _gH; }}else {return false; }}function _gh(_gG){var a=_gG.attributes,i,_gg,_gF; if (a){_gg=a.length; for (i=0; i<_gg; i+=1){_gF=a[i].name; if (typeof _gG[_gF] === "function"){_gG[_gF]=null; }}}a=_gG.childNodes; if (a){_gg=a.length; for (i=0; i<_gg; i+=1){_gh(_gG.childNodes[i]); }}}function _gf(_gq,_gD){return _gD.indexOf(_gq); }function _gd(_gC){if (_gC.stopPropagation)_gC.stopPropagation(); else _gC.cancelBubble= true; }function _gc(_gB,_gb){var _go0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz" .split(""); var _gO0=_go0,_gl0=[],_gi0=Math.random; _gb=_gb || _gO0.length; if (_gB){for (var i=0; i<_gB; i++)_gl0[i]=_gO0[0|_gi0()*_gb]; }else {var _gI0=0,_go1; _gl0[8]=_gl0[13]=_gl0[18]=_gl0[23]="-"; _gl0[14]="4"; for (var i=0; i<36; i++){if (!_gl0[i]){_go1=0|_gi0()*16; _gl0[i]=_gO0[(i==19)?(_go1&3)|8:_go1&15]; }}}return _gl0.join(""); }function _gO1(){var _gl1=navigator.userAgent.toLowerCase(); if (_gf("opera",_gl1)!=-1){return "opera"; }else if (_gf("firefox",_gl1)!=-1){return "firefox"; }else if (_gf("safari",_gl1)!=-1){return "safari"; }else if ((_gf("msie",_gl1)!=-1) && (_gf("opera",_gl1)==-1)){return "ie"; }else {return "firefox"; }}function _gi1(_gp){var _gI1="{"; for (var _go2 in _gp){switch (typeof(_gp[_go2])){case "string":_gI1+="\""+_go2+"\":\""+_gp[_go2]+"\","; break; case "number":_gI1+="\""+_go2+"\":"+_gp[_go2]+","; break; case "object":_gI1+="\""+_go2+"\":"+_gi1(_gp[_go2])+","; break; }}if (_gI1.length>1)_gI1=_gI1.substring(0,_gI1.length-1); _gI1+="}"; if (_gI1=="{}")_gI1="null"; return _gI1; }var _gO2= {_gl2:function (_gi2){return Object.prototype.toString.call(_gi2) === "[object Date]"; } ,_gI2:function (_gi2){return Object.prototype.toString.call(_gi2) === "[object Array]"; } ,_go3:function (_gi2){return Object.prototype.toString.call(_gi2) === "[object Object]"; } ,_gO3:function (_gi2){return typeof _gi2 === "string"; } ,_gl3:function (value){return typeof value === "number" && isFinite(value); } ,_gi3:function (_gI3,_go4,p){var _gO4= true; if (typeof _gI3 === "string"){var _gl4=_go4; if (this._gO3(_gl4))_gl4=_gl4.split(" "); if (!this._gI2(_gl4))return false; for (var i in _gl4){var _gi4=new RegExp("(\\s|^)"+_gl4[i]+"(\\s|$)","i"); _gO4=_gO4 && _gi4.test(_gI3); }return _gO4; }else {if (!p)p="className"; if (_gI3 && this._gO3(_gI3[p]))_gO4=this._gi3(_gI3[p],_go4); else _gO4= false; }return _gO4; } ,_gI4:function (_gI3,_go4,p){var _gO4= false; if (typeof _gI3 === "string"){var _gl4=_go4; if (this._gO3(_gl4))_gl4=_gl4.split(" "); if (!this._gI2(_gl4))return false; for (var i in _gl4){var _gi4=new RegExp("(\\s|^)"+_gl4[i]+"(\\s|$)","i"); _gO4=_gO4 || _gi4.test(_gI3); }return _gO4; }else {if (!p)p="className"; if (_gI3 && this._gO3(_gI3[p]))_gO4=this._gI4(_gI3[p],_go4); else _gO4= false; }return _gO4; } ,_go5:function (_gI3,_go4,p){var _gO4=_gI3; if (typeof _gI3 === "string"){var _gl4=_go4; if (this._gO3(_gl4))_gl4=_gl4.split(" "); if (!this._gI2(_gl4))return false; for (var i in _gl4)if (!this._gi3(_gI3,_gl4[i]))_gO4+=" "+_gl4[i]; }else if (_gI3){if (!p)p="className"; if (!_gI3[p])_gI3[p]=""; _gO4[p]=this._go5(_gI3[p],_go4); }return _gO4; } ,_gO5:function (_gI3,_go4,p){var _gO4=_gI3; if (typeof _gI3 === "string"){var _gl4=_go4; if (this._gO3(_gl4))_gl4=_gl4.split(" "); if (!this._gI2(_gl4))return false; for (var i in _gl4){var _gi4=new RegExp("(\\s|^)"+_gl4[i]+"(\\s|$)","ig"); _gO4=_gO4.replace(_gi4,""); }}else if (_gI3){if (!p)p="className"; if (_gI3[p])_gO4[p]=this._gO5(_gI3[p],_go4); }return _gO4; }} ; var _gl5= {} ; function KoolUploaderItem(_gy,files,_gi5){ this._gy=_gy; this.id=_gy; this.files=files; this._gi5=_gi5; }KoolUploaderItem.prototype= {_gI5:{ "pdf": "pdf_2-24","zip": "zip_2-24","rar": "zip_2-24","7z": "zip_2-24","xls": "excel_2-24","xlsx": "excel_2-24","jpg": "image_2-24","png": "image_2-24","gif": "image_2-24","txt": "text_2-24","doc": "word_2-24","docx": "word_2-24","ppt": "powerpoint_2-24","pptx": "powerpoint_2-24" } ,_go6:function (){var _gO6=this._gl6(); var _gi6=this.getFileName(); var _gI6=_gY(this._gy); if (!_gO6._go7(_gi6)){var _gO7=_gx("span","kulStatus",_gI6)[0]; _gO7.innerHTML=_gY(_gO6._gy+".message.file_not_allowed").innerHTML; _gN(_gI6,"kulNotAllowed"); _gN(_gI6,"kulDone"); _gN(_gO7,"kulError"); _gO6._gl7("OnUploadDone", { "ItemId": this._gy } ); }if (_gi6.lastIndexOf(".")>0){var _gi7=_gi6.substr(_gi6.lastIndexOf(".")+1).toLowerCase(); var _gI7=_gx("span","kulThumbnail",_gY(this._gy))[0]; _gN(_gI7,"kul"+_gi7); } this._go8(); } ,_gO8:function (){var _gi6=this.getFileName(); if (_gi6.lastIndexOf(".")>0){var _gi7=_gi6.substr(_gi6.lastIndexOf(".")+1).toLowerCase(); var _gl8=this._gI5[_gi7]?this._gI5[_gi7]: "file_2-24"; var _gI7=_gx("span","kulThumbnail",_gY(this._gy))[0]; _gN(_gI7,"kul"+_gi7); }var _gI6=_gY(this._gy); _gN(_gI6,"kulDone"); } ,_go8:function (){var _gI6=_gY(this._gy); var _gi8=0; for (var i=0; i<_gI6.children.length; i+=1){if (_gi8<_gI6.children[i].offsetHeight)_gi8=_gI6.children[i].offsetHeight; }_gI6.style.height=_gi8+"px"; } ,_gI8:function (){var _gI6=_gY(this._gy); var _go9=0; var _gO9=_gI6.getElementsByClassName("kulLeftMost")[0]; for (var i=0; i<_gO9.children.length; i+=1){var _gl9=_gO9.children[i]; if (_go9<_gl9.offsetWidth)_go9=_gl9.offsetWidth; }var _gi9=document.createElement("div"); _gi9.innerHTML="&nbsp;"; _gi9.style.width=_go9+"px"; _gi9.style.height="1px"; _gO9.appendChild(_gi9); } ,_gl6:function (){return eval(this._gy.substring(0,_gf(".",this._gy))); } ,_gI9:function (_goa){var _gOa=_gx("span","kulProgress",_gY(this._gy))[0]; var _gla=_gE(_gOa); _gla.title=_goa+"%"; var _gia=_gla.offsetWidth; _gla.style.backgroundPosition="-"+(_gia*(100-_goa)/100)+"px"; } ,setProgressText:function (_gIa){var _gOa=_gx("span","kulProgress",_gY(this._gy))[0]; var _gob=_gOa.lastChild; _gob.innerHTML=_gIa; } ,attachData:function (_go2,_gOb){var _glb=_gY(this._gy+".data"); var _gI6=_gY(this._gy); if (!_gO(_glb)){_glb=document.createElement("input"); _glb.type="hidden"; _glb.id=this._gy+".data"; _glb.value="{}"; _gI6.appendChild(_glb); }var _gib=eval("__="+_glb.value); _gib[_go2]=_gOb; _glb.value=_gi1(_gib); } ,upload:function (){if (this.getStatus()!="ready")return; if (!this._gl6()._gl7("OnBeforeUpload", { "ItemId": this._gy } ))return; var _gO6=this._gl6(); var _gI6=_gY(this._gy); var _gIb=_gY(this._gy+".data"); var _gib=new Array(); if (_gO(_gIb)){_gib=eval("__="+_gIb.value); }try {var _goc=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gI6.appendChild(_goc); }catch (_gOc){var _goc=document.createElement("iframe"); _goc.name=this._gy+".iframe"; _goc.id=this._gy+".iframe"; _gI6.appendChild(_goc); }try {var _glc=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gO6._gic+"' target='"+this._gy+".iframe'>"); _gI6.appendChild(_glc); }catch (_gOc){var _glc=document.createElement("form"); _glc.id=this._gy+".form"; _glc.enctype="multipart/form-data"; _glc.method="post"; _glc.action=_gO6._gic; _glc.target=this._gy+".iframe"; _gI6.appendChild(_glc); }var _gIc=document.createElement("input"); _gIc.type="hidden"; _gIc.name="UPLOAD_IDENTIFIER"; var _god=_gY(this._gy+".inputFileIds"); if (_god && _god.value){var _gOd=_god.value.split(","); var _gld=[]; for (var i=0; i<_gOd.length; i+=1){var _gid=new KoolUploaderItem(_gOd[i]); if (_gid.getStatus() === "ready" || _gid.getStatus() === "multiupload item")_gld.push(_gOd[i]); }_gIc.value=_gld.join(","); }else _gIc.value=this._gy; _glc.appendChild(_gIc); var _gId=document.createElement("input"); _gId.type="hidden"; _gId.name="MAX_FILE_SIZE"; _gId.value=_gO6._goe; _glc.appendChild(_gId); var _gOe=document.createElement("input"); _gOe.type="hidden"; _gOe.name=window["upload_progress_name"]; _gOe.value=this._gy; _glc.appendChild(_gOe); if (_gO6._gle !== ""){var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="targetFolder"; _gie.value=_gO6._gle; _glc.appendChild(_gie); }var _gIe=_gY(this._gy+".input"); var _gof=_gu(_gIe); _gh(_gIe); var files=this._gOf(); if (!files){_gIe.id="KUL_FILE"; _gIe.name="KUL_FILE[]"; _glc.appendChild(_gIe); }for (var _go2 in _gib)if (typeof _gib[_go2]!="function"){var _gIf=document.createElement("input"); _gIf.type="hidden"; _gIf.name=_go2; _gIf.value=_gib[_go2]; _glc.appendChild(_gIf); }if (_gof)_gu(_gof).removeChild(_gof); if (!files){_glc.submit(); }else {var _gog=this ; function _gOg(_glg){var _gig=JSON.parse(this.responseText); kuldonemultiple(_gig); if (this.readyState === 4)_gog._gIg(); }var _goh=new FormData(_glc); for (var _gOh=0; _gOh<files.length; _gOh+=1)_goh.append("KUL_FILE[]",files[_gOh]); _goh.append("xhr", true); var _glh=new XMLHttpRequest(); _glh.open("POST",_gO6._gic); _gm(_glh,"load",_gOg); _glh.send(_goh); }_gN(_gI6,"kulUploading"); _gO6._gih(this._gy); this._gI9(0); this._gl6()._gl7("OnUpload", { "ItemId": this._gy } ); if (_gO6._gIh){if (!_gO6._gl7("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText("0%"); _gO6._gl7("OnUpdateProgress", { "ItemId": this._gy } ); }} ,remove:function (){var _gO6=this._gl6(); if (!_gO6._gl7("OnBeforeRemove", { "ItemId": this._gy } ))return; this._goi(); var _gI6=_gY(this._gy); _gh(_gI6); try {var _gOi=_gu(_gY(_gI6.id+".input")); _gu(_gOi).removeChild(_gOi); }catch (_gOc){}_gu(_gI6).removeChild(_gI6); _gO6._gl7("OnRemove", { "ItemId": this._gy } ); } ,_goi:function (){if (this.getStatus()=="uploading"){var _gO6=this._gl6(); if (!_gO6._gl7("OnBeforeCancel", { "ItemId": this._gy } ))return; var _gI6=_gY(this._gy); _gM(_gI6,"kulUploading"); _gN(_gI6,"kulDone"); var _gO7=_gx("span","kulStatus",_gI6)[0]; _gO7.innerHTML=_gY(_gO6._gy+".message.upload_cancel").innerHTML; var _glc=_gY(this._gy+".form"); var _goc=_gY(this._gy+".iframe"); _gI6.removeChild(_glc); _gI6.removeChild(_goc); _gO6._gli(this._gy); _gO6._gl7("OnCancel", { "ItemId": this._gy } ); }} ,deleteItem:function (){if (this.getStatus() === "uploaded"){var _gO6=this._gl6(); if (!_gO6._gii)return; if (!_gO6._gl7("OnBeforeDelete", { "ItemId": this._gy } ))return; var _gO6=this._gl6(); var _gI6=_gY(this._gy); try {var _goc=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gI6.appendChild(_goc); }catch (_gOc){var _goc=document.createElement("iframe"); _goc.name=this._gy+".iframe"; _goc.id=this._gy+".iframe"; _gI6.appendChild(_goc); }try {var _glc=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gO6._gIi+"' target='"+this._gy+".iframe'>"); _gI6.appendChild(_glc); }catch (_gOc){var _glc=document.createElement("form"); _glc.id=this._gy+".form"; _glc.enctype="multipart/form-data"; _glc.method="post"; _glc.action=_gO6._gIi; _glc.target=this._gy+".iframe"; _gI6.appendChild(_glc); }var _gIc=document.createElement("input"); _gIc.type="hidden"; _gIc.name="UPLOAD_IDENTIFIER"; _gIc.value=this._gy; _glc.appendChild(_gIc); var _gIc=document.createElement("input"); _gIc.type="hidden"; _gIc.name="DELETE_IDENTIFIER"; var _gi6=this.getFileName(); _gIc.value=_gi6; _glc.appendChild(_gIc); if (_gO6._gle !== ""){var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="targetFolder"; _gie.value=_gO6._gle; _glc.appendChild(_gie); }_glc.submit(); _gO6._gl7("OnDelete", { "ItemId": this._gy } ); }} ,download:function (){if (this.getStatus() === "uploaded"){var _gO6=this._gl6(); if (_gO6 && !_gO6._goj)return; if (!_gO6._gl7("OnBeforeDownload", { "ItemId": this._gy } ))return; var _gI6=_gY(this._gy); try {var _goc=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gI6.appendChild(_goc); }catch (_gOc){var _goc=document.createElement("iframe"); _goc.name=this._gy+".iframe"; _goc.id=this._gy+".iframe"; _gI6.appendChild(_goc); }try {var _glc=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gO6._gOj+"' target='"+this._gy+".iframe'>"); _gI6.appendChild(_glc); }catch (_gOc){var _glc=document.createElement("form"); _glc.id=this._gy+".form"; _glc.enctype="multipart/form-data"; _glc.method="post"; _glc.action=_gO6._gOj; _glc.target=this._gy+".iframe"; _gI6.appendChild(_glc); }var _gIc=document.createElement("input"); _gIc.type="hidden"; _gIc.name="UPLOAD_IDENTIFIER"; _gIc.value=this._gy; _glc.appendChild(_gIc); var _gIc=document.createElement("input"); _gIc.type="hidden"; _gIc.name="DOWNLOAD_IDENTIFIER"; var _gi6=this.getFileName(); _gIc.value=_gi6; _glc.appendChild(_gIc); if (_gO6._gle !== ""){var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="targetFolder"; _gie.value=_gO6._gle; _glc.appendChild(_gie); }_glc.submit(); _gO6._gl7("OnDownload", { "ItemId": this._gy } ); }} ,_gOf:function (){return _gl5[this._gy]; } ,_gIg:function (){ delete _gl5[this._gy]; } ,getStatus:function (){var _gI6=_gY(this._gy); var _gw=_gR(_gI6); if (_gf("kulDone",_gw)>0){var _gO7=_gx("span","kulStatus",_gI6)[0]; if (_gf("kulError",_gR(_gO7))>0){return "failed"; }else {return "uploaded"; }}if (_gf("kulDeleted",_gw)>0){return "deleted"; }else if (_gf("kulUploading",_gw)>0){return "uploading"; }else {var _gIe=_gY(this._gy+".input"); if (!_gIe && !this._gOf())return "multiupload item"; else return "ready"; }} ,getDescription:function (){var _gI6=_gY(this._gy); var _glj=_gI6.getElementsByClassName("kulDescription"); if (_glj.length>0){var _gij=_glj[0].value; return _gij; }else return ""; } ,getFileName:function (){var _gIj=_gx("span","kulFileName",_gY(this._gy))[0]; return _gIj.innerHTML; } ,getTotalBytes:function (){var _gok=_gY(this._gy+".info"); var _gOk=eval("__="+_gok.value); return parseInt(_gOk["bytes_total"]); } ,getUploadedBytes:function (){var _gok=_gY(this._gy+".info"); var _gOk=eval("__="+_gok.value); return parseInt(_gOk["bytes_uploaded"]); } ,getEstimatedTime:function (){return Math.round(this.getTotalBytes()/this.getAverageSpeed()); } ,getElapsedTime:function (){var _gok=_gY(this._gy+".info"); var _gOk=eval("__="+_gok.value); return parseInt(_gOk["time_last"])-parseInt(_gOk["time_start"]); } ,getEstimatedTimeLeft:function (){var _gok=_gY(this._gy+".info"); var _gOk=eval("__="+_gok.value); return parseInt(_gOk["est_sec"]); } ,getLastSpeed:function (){var _gok=_gY(this._gy+".info"); var _gOk=eval("__="+_gok.value); return _gOk["speed_last"]; } ,getAverageSpeed:function (){var _gok=_gY(this._gy+".info"); var _gOk=eval("__="+_gok.value); return _gOk["speed_average"]; } ,getUploadedPercent:function (){return this.getUploadedBytes()*100/this.getTotalBytes(); } ,_glk:function (_gC){ this.upload(); } ,_gik:function (_gC){ this.remove(); } ,_gIk:function (_gC){ this._goi(); } ,_gol:function (_gC){ this.deleteItem(); } ,_gll:function (_gT,_gOk){if (_gt())return; var _gI6=_gY(this._gy); _gM(_gI6,"kulUploading"); _gN(_gI6,"kulDone"); var _gil=this._gl6()._gy; var _gO7=_gx("span","kulStatus",_gI6)[0]; _gO7.innerHTML=_gY(_gil+".message."+_gT).innerHTML; if (_gf("successful",_gT)>0){var _glb=_gY(_gil+"_uploadedFiles"); var _gIl="[|-"+_gOk["name"]+"-|-"+_gOk["type"]+"-|-"+_gOk["size"]+"-|]"; if (_gf(_gIl,_glb.value)<0)_glb.value+=_gIl; }else {_gN(_gO7,"kulError"); }var _gok=_gY(this._gy+".info"); var _gOk=eval("__="+_gok.value); _gOk["bytes_uploaded"]=_gOk["bytes_total"]; _gok.value=_gi1(_gOk); var _gom=_gI6.getElementsByClassName("kulFileName")[0]; var _gO6=this._gl6(); if (_gO6 && _gO6._goj && _gom){_gom.style.color="#189fee"; _gom.style.cursor="pointer"; var _gog=this ; _gm(_gom,"click", function (){_gog.download(); } , false); }var _glc=_gY(this._gy+".form"); var _goc=_gY(this._gy+".iframe"); if (_glc)_gI6.removeChild(_glc); if (_goc)_gI6.removeChild(_goc); this._gl6()._gli(this._gy); this._gl6()._gl7("OnUploadDone", { "ItemId": this._gy } ); } ,_gOm:function (_gT,_gOk){var _gI6=_gY(this._gy); var _gom=_gI6.getElementsByClassName("kulFileName")[0]; if (_gom){_gom.style.color=""; _gom.style.cursor="auto"; _gom.onclick="javascript: void 0;"; }_gM(_gI6,"kulDone"); _gN(_gI6,"kulDeleted"); var _gil=this._gl6()._gy; var _gO7=_gx("span","kulStatus",_gI6)[0]; _gO7.innerHTML=_gY(_gil+".message.deleted").innerHTML; } ,_gIm:function (_gOk){if (!_gO(_gY(this._gy)))return; if (this.getStatus()=="uploading" && _gO(_gOk)){var _gok=_gY(this._gy+".info"); _gok.value=_gi1(_gOk); var _gon=_gOk.progress; this._gI9(_gon); if (!this._gl6()._gl7("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText(_gon+"%"); this._gl6()._gl7("OnUpdateProgress", { "ItemId": this._gy } ); }}} ; function _gOn(url,_gIn,_goo){var _gOo=url; if (_gOo.indexOf(_gIn+"=")>=0){var _gIo=_gOo.substring(0,_gOo.indexOf(_gIn)); var _gop=_gOo.substring(_gOo.indexOf(_gIn)); _gop=_gop.substring(_gop.indexOf("=")+1); _gop=(_gop.indexOf("&")>=0)?_gop.substring(_gop.indexOf("&")): ""; _gOo=_gIo+_gIn+"="+_goo+_gop; }else {if (_gOo.indexOf("?")<0)_gOo+="?"+_gIn+"="+_goo; else _gOo+="&"+_gIn+"="+_goo; }return _gOo; }function KoolUploader(_gOk){with (_gOk){ this._gy=id; this.id=id; if (handlePage !== ""){ this._gic=_gOn(handlePage,upload,1); this._gOp=_gOn(handlePage,status,1); this._glp=_gOn(handlePage,progress,1); this._gIi=_gOn(handlePage,del,1); this._gOj=_gOn(handlePage,download,1); }else {var url=document.URL; this._gic=_gOn(url,upload,1); this._gOp=_gOn(url,status,1); this._glp=_gOn(url,progress,1); this._gIi=_gOn(url,del,1); this._gOj=_gOn(url,download,1); } this._gip=updateProgressInterval; this._gIh=progressTracking; this._gIp=allowedExtension; this._gle=targetFolder; this._goq=currentFiles; this._gOq=mustHaveFiles; this._gii=allowDelete; this._goj=allowDownload; this._glq=autoUpload; this._giq=multipleUpload; this._goe=maxFileSize; this._gIq=errorMessage1; this._gor=errorMessage2; this._gOr=dragAndDrop; this._glr=new Array(); this._gir=new Array(); this._gIr= false; this._gos=(new Date()).getTime(); this._go6(); }}KoolUploader.prototype= {_go6:function (){var _glb=_gY(this._gy+"_uploadedFiles"); _glb.value=""; this._gOs(); var _gls=_gY(this._gy+".btn.uploadall"); if (_gO(_gls)){_gm(_gls,"click",_gis, false); }var _gIs=_gY(this._gy+".btn.clearall"); if (_gO(_gIs)){_gm(_gIs,"click",_got, false); }var _gi9=document.getElementById(this._gy); var _gOt=_gi9.firstChild.firstChild; var _glt=_gOt.firstChild; var _git=_glt.firstChild; var _gIt=_glt.nextSibling; var _gou=_gIt.firstChild; _git.style.height=(parseInt(_gi9.style.height)-parseInt(_gou.style.height))+"px"; for (var i=0; i<this._goq.length; i+=1){var _gOu=this._goq[i]; this._glu(_gOu); }if (this._gOr){var _giu=_gY(this._gy+".container"); _gm(_giu,"dragover",_gIu, false); _gm(_giu,"dragleave",_gov, false); _gm(_giu,"drop",_gOv, false); }} ,getItems:function (){var _glv=_gx("div","kulItem",_gY(this._gy+".container")); var _giv=new Array(); for (i in _glv)if (typeof _glv[i]!="function"){_giv.push(new KoolUploaderItem(_glv[i].id)); }return _giv; } ,getItem:function (_gIv){return (new KoolUploaderItem(_gIv)); } ,getItemsStatus:function (){var _gow=[]; var _giv=this.getItems(); var _gOw=this.getAllDescriptions(); for (var i=0; i<_giv.length; i+=1){var _gI6=_giv[i]; var _glw=_gI6.getStatus(); if (_glw === "uploaded"){var _giw=_gI6.getDescription(); for (var _gIw=0; _gIw<_gOw.length; _gIw+=1)if (_gOw[_gIw] === _giw){_gOw.splice(_gIw,1); break; }var _gox= {name:_gI6.getFileName(),description:_giw } ; _gow.push(_gox); }}if (_gOw.length === 0)return JSON.stringify(_gow); else {var _gOx=_gY(this._gy); var _glx=_gOx.firstChild; var _gix=_glx.getElementsByClassName("kulMessage")[0]; var _gIx=this._gIq; _gIx+="\x3cul style=\"list-style-position:inside; color:red\">"; for (var i=0; i<_gOw.length; i+=1)_gIx+="<li>"+_gOw[i]+"</li>"; _gIx+="</ul>"; _gIx+=this._gor; var _goy= false; if (_gix.style.display === "none"){_goy= true; }_gix.firstChild.innerHTML=_gIx; _gix.style.display=""; if (_goy)_gOx.style.height=parseFloat(_gOx.style.height)+_gix.offsetHeight+"px"; return false; }} ,getAllDescriptions:function (){var _gOy=_gY(this._gy+".template.item"); var _gly=_gOy.getElementsByClassName("kulDescription")[0]; var _gOw=[]; if (_gly && _gly.options){var _giy=_gly.options; for (var i=0; i<_giy.length; i+=1)if (_giy[i].value !== "")_gOw.push(_giy[i].value); }return _gOw; } ,uploadAll:function (){if (!this._gl7("OnBeforeUploadAll",null))return; if (_gt())return; var _giv=this.getItems(); for (i in _giv)if (typeof _giv[i]!="function")if (_giv[i].getStatus()=="ready"){_giv[i].upload(); } this._gl7("OnUploadAll",null); } ,clearAll:function (){if (!this._gl7("OnBeforeClearAll",null))return; var _giv=this.getItems(); for (var i in _giv)if (typeof _giv[i]!="function"){_giv[i].remove(); } this._gl7("OnClearAll",null); } ,_go7:function (_gi6){if (this._gIp === "*")return true; var _gIy=this._gIp.toLowerCase().split(","); for (var i in _gIy)if (typeof _gIy[i]!="function"){var _goz=eval("/(."+_gIy[i]+")$/"); if (_gi6.toLowerCase().match(_goz))return true; }return false; } ,_gih:function (_gIv){if (_gt())return; if (this._gIh){var _gOz="["+this._gir.join("][")+"]"; if (_gf("["+_gIv+"]",_gOz)<0){ this._gir.push(_gIv); }if (!this._gIr){ this._glz(); }}} ,_gli:function (_gIv){var _giz=new Array(); for (i in this._gir)if (typeof this._gir[i]!="function")if (this._gir[i]!=_gIv){_giz.push(this._gir[i]); } this._gir=_giz; } ,_glz:function (){var _gIz=new KoolAjaxRequest( {method: "get",url:_gO6._glp,onDone:_go10,onError:_gO10,_gil: this._gy } ); for (var i in this._gir)if (typeof this._gir[i]!="function"){_gIz.addArg("itemids[]",this._gir[i]); }koolajax.sendRequest(_gIz); this._gIr= true; this._gos=(new Date()).getTime(); } ,SMR:function (){ this._glz(); } ,_gl10:function (_gib){_gib=eval("__="+_gib); for (var _gIv in _gib)if (typeof _gib[_gIv]!="function"){ (new KoolUploaderItem(_gIv))._gIm(_gib[_gIv]); }if (this._gIr && (this._gir.length>0)){var _gi10=(new Date()).getTime(); if (_gi10-this._gos>this._gip){ this._glz(); }else {setTimeout(this._gy+".SMR()",this._gip-(_gi10-this._gos)); }}else { this._gIr= false; }} ,_gI10:function (_go11){ this._gl7("OnError", { "Error":_go11 } ); } ,_glu:function (_gOu){var _gO11=this._gy; var _gl11=_gc(13,16); var _gi11=_gE(_gY(_gO11+".template.item")).cloneNode( true); _gi11.id=_gO11+".item"+_gl11; var _gI11=_gY(_gO11+".container"); _gI11.appendChild(_gi11); var _gIj=_gx("span","kulFileName",_gi11)[0]; var _go12=_gx("span","kulUpload",_gi11)[0]; var _gO12=_gx("span","kulRemove",_gi11)[0]; var _gl12=_gx("span","kulCancel",_gi11)[0]; var _gi12=_gx("span","kulDelete",_gi11)[0]; _go12.id=_gi11.id+".btn.upload"; _gO12.id=_gi11.id+".btn.remove"; _gl12.id=_gi11.id+".btn.cancel"; if (_gi12)_gi12.id=_gi11.id+".btn.delete"; if (_gi12 && !this._gii){_gi12.parentNode.removeChild(_gi12); }_gIj.innerHTML=_gOu.name; _gm(_gi12,"click",_gI12, false); var _go13=_gi11.getElementsByClassName("kulDescription")[0]; if (_go13){_go13.value=_gOu.description; }var _gid=new KoolUploaderItem(_gi11.id); _gid._gO8(); if (this._goj){_gIj.style.color="#189fee"; _gIj.style.cursor="pointer"; }var _gog=_gid; _gm(_gIj,"click", function (){_gog.download(); } , false); } ,_gOs:function (){var _gO13=_gY(this._gy+".btn.add"); var _gl13=_gI("span",_gO13); var _gi13=document.createElement("input"); _gi13.type="file"; _gi13.id=this._gy+".new.input"; _gi13.name=this._gy+".new.input"; var _gI13=this._gIp.split(","); for (var i in _gI13)_gI13[i]="."+_gI13[i]; _gI13=_gI13.join(","); _gi13.setAttribute("accept",_gI13); if (this._giq)_gi13.setAttribute("multiple",""); _gl13.appendChild(_gi13); _gr(_gl13,"kulFileInput"); _gm(_gi13,"mouseover",_go14, false); _gm(_gi13,"mouseout",_gO14, false); _gm(_gi13,"change",_gl14, false); } ,_gi14:function (files){var _gO11=this._gy; var _gI14=_gY(_gO11+".new.input"); if (_gI14.value=="" && !files)return; var _go15=[]; if (!files)files=_gI14.files; for (var i=0; i<files.length; i+=1){var _gi6=files[i].name; if (!this._gl7("OnBeforeAddItem", { "FileName":_gi6 } ))return; var _gl11=_gc(13,16); _gI14.id=_gO11+".item"+_gl11+".input"; _gI14.name=_gO11+".item"+_gl11+".input"; var _gi11=_gE(_gY(_gO11+".template.item")).cloneNode( true); _gi11.id=_gO11+".item"+_gl11; _go15.push(_gi11.id); var _gI11=_gY(_gO11+".container"); _gI11.appendChild(_gi11); var _gIj=_gx("span","kulFileName",_gi11)[0]; var _go12=_gx("span","kulUpload",_gi11)[0]; var _gO12=_gx("span","kulRemove",_gi11)[0]; var _gl12=_gx("span","kulCancel",_gi11)[0]; var _gi12=_gx("span","kulDelete",_gi11)[0]; _go12.id=_gi11.id+".btn.upload"; _gO12.id=_gi11.id+".btn.remove"; _gl12.id=_gi11.id+".btn.cancel"; _gi12.id=_gi11.id+".btn.delete"; if (!this._gii)_gi12.parentNode.removeChild(_gi12); _gIj.innerHTML=_gi6; _gm(_gi11,"click",_gO15, false); _gm(_go12,"click",_gl15, false); _gm(_gO12,"click",_gi15, false); _gm(_gl12,"click",_gI15, false); _gm(_gi12,"click",_gI12, false); if (i<files.length-1){_go12.style.visibility="hidden"; _gO12.style.visibility="hidden"; _gl12.style.visibility="hidden"; }var _gok=document.createElement("input"); _gok.type="hidden"; _gok.id=_gi11.id+".info"; _gi11.appendChild(_gok); _gok.value="{'time_start':'0','time_last':'1','speed_average':'1','speed_last':'1','bytes_uploaded' :'0','bytes_total':'1','files_uploaded':'1','est_sec':'0'}"; if (i === files.length-1){var _god=document.createElement("input"); _god.type="hidden"; _god.id=_gi11.id+".inputFileIds"; _gi11.appendChild(_god); _god.value=_go15.join(","); if (_gI14.files.length === 0){_gl5[_gi11.id]=files; }}var _gI6=new KoolUploaderItem(_gi11.id); _gI6._go6(); this._gl7("OnAddItem", { "ItemId":_gi11.id } ); this._go16(); } this._gOs(); if (this._glq)_gI6.upload(); } ,_gO16:function (_gC){ this.uploadAll(); } ,_gl16:function (_gC){ this.clearAll(); } ,registerEvent:function (_gi16,_gI16){if (_gt())return; this._glr[_gi16]=_gI16; } ,_gl7:function (_go2,_go17){return (_gO(this._glr[_go2]))?this._glr[_go2](this,_go17): true; } ,_go16:function (){var _gO17=_gY(this._gy+".container"); var _gl17=_gO17.scrollHeight,_gi17=25,i=0; var _gI17= function (){_gO17.scrollTop+=_gl17/_gi17; i+=1; if (i<_gi17 && _gO17.scrollTop<_gl17)setTimeout(_gI17,10); } ; setTimeout(_gI17,10); }} ; function _gl6(_go18){return eval(_go18.substring(0,_gf(".",_go18))); }var kuldone= function (_gy,_gT,_gOk){ (new KoolUploaderItem(_gy))._gll(_gT,_gOk); } ; var kuldonemultiple= function (_gO18){for (var i=0; i<_gO18.length; i+=1){var _gOk=_gO18[i]; var _gI6=new KoolUploaderItem(_gOk.id); _gI6._gll(_gOk.result,_gOk); }} ; var kuldeletedone= function (_gy,_gT,_gOk){ (new KoolUploaderItem(_gy))._gOm(_gT,_gOk); } ; function _go14(_gC){var _gO13=_gu(this,2); _gN(_gO13,"kulAddOver"); }function _gO14(_gC){var _gO13=_gu(this,2); _gM(_gO13,"kulAddOver"); }function _gl14(_gC){_gO6=_gl6(this.id); _gO6._gi14(); }function _gO15(_gC){var _glv=_gx("div","kulItem",_gu(this )); for (var i in _glv)if (typeof _glv[i]!="function"){_gM(_glv[i],"kulSelected"); }_gN(this,"kulSelected"); }function _got(_gC){_gO6=_gl6(this.id); _gO6._gl16(_gC); }function _gis(_gC){_gO6=_gl6(this.id); _gO6._gO16(_gC); }function _gl15(_gC){_gl18=new KoolUploaderItem(this.id.replace(".btn.upload","")); _gl18._glk(_gC); }function _gi15(_gC){var _gl18=new KoolUploaderItem(this.id.replace(".btn.remove","")); var _god=_gY(_gl18._gy+".inputFileIds"); if (_god && _god.value){var _gi18=_god.value.split(","); for (var i=0; i<_gi18.length; i+=1){var _gI6=new KoolUploaderItem(_gi18[i]); _gI6._gik(_gC); }}else {_gl18._gik(_gC); }_gd(_gC); }function _gI15(_gC){_gl18=new KoolUploaderItem(this.id.replace(".btn.cancel","")); _gl18._gIk(_gC); }function _gI12(_gC){_gl18=new KoolUploaderItem(this.id.replace(".btn.delete","")); _gl18._gol(_gC); }function _gIu(_glg){_glg.stopPropagation(); _glg.preventDefault(); var _gI18=_glg.currentTarget; _gO2._go5(_gI18.parentNode,"fileDragOver"); }function _gov(_glg){var _gI18=_glg.currentTarget; _gO2._gO5(_gI18.parentNode,"fileDragOver"); }function _gOv(_glg){_glg.stopPropagation(); _glg.preventDefault(); var _gI18=_glg.currentTarget; _gO2._gO5(_gI18.parentNode,"fileDragOver"); var _go19=_gI18.id.replace(".container",""); var _gO19=window[_go19]; var files=_glg.target.files || _glg.dataTransfer.files; _gO19._gi14(files); }function _go10(_gib){_gO6=eval("__="+this._gil); _gO6._gl10(_gib); }function _gO10(_go11){_gO6=eval("__="+this._gil); _gO6._gI10(_go11); } <?php _gl6(); _gO6(); } function _gl9($_gO9,$_gla) { $_gOa=""; foreach ($_gO9->childNodes as $_glb) { $_gOa.=$_gla->savexml($_glb); } return trim($_gOa); } if (!class_exists("K\157\157\154Uploa\144\145\162",FALSE)) { class kooluploadhandler { var $targetFolder=""; var $allowedExtension="\052"; var $funcFileHandle=NULL; var $allowDelete=FALSE; var $allowDownload=FALSE; function _gOb($_glc) { if ($this->allowedExtension == '*') return TRUE; $_glc=strtolower($_glc); $_gOc=explode(",",strtolower($this->allowedExtension)); foreach ($_gOc as $_gld) if (preg_match("/(\134\056".$_gld."\051\044/",$_glc)) return TRUE; return FALSE; } function handleupload() { $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); if ( isset ($_GET[md5( __FILE__."up\154\157\141d")])) { $_gle=array(); if (!file_exists($_gOd)) { mkdir($_gOd,0777,TRUE); } $_gOe=$_FILES["\113UL_FILE"]; if (count($_gOe['error'])) { $_glf=explode(',',$_POST["\125\120\114OAD_I\104\105\116TIFI\105\122"]); for ($_gO8=0; $_gO8<count($_gOe['error']); $_gO8 ++) { $_gOf="\165\160load_fa\151\154ed"; $_glg=$_gOe['error'][$_gO8]; switch ($_glg) { case 0: if ($this->_gOb($_gOe["\156ame"][$_gO8])) { if ($this->funcFileHandle != NULL) { $_gOg=array(); $_glh=array("\156ame","\164ype","tm\160\137\156ame","\145rror","size"); for ($_gOh=0; $_gOh<count($_glh); $_gOh ++) $_gOg[$_glh[$_gOh]]=$_gOe[$_glh[$_gOh]][$_gO8]; $_gOi=$this->funcFileHandle; if ($_gOi($_gOg) == TRUE) { $_gOf="\165\160load_su\143\143essf\165l"; } else { $_gOf="u\160\154\157ad_fa\151\154\145d"; } } else { if (move_uploaded_file($_gOe["tmp_n\141\155\145"][$_gO8],$_gOd."/".$_gOe["\156\141\155e"][$_gO8])) { $_gOf="uploa\144\137\163ucces\163\146\165l"; } else { $_gOf="\165pload_f\141\151\154ed"; } } } else { $_gOf="file_n\157\164\137allow\145\144"; } break; case 1: $_gOf="\146ile_b\151\147\147er_th\141\156\137php\137\141\154low"; break; case 2: $_gOf="\146\151\154e_bigg\145\162\137than\137\146\157rm_a\154\154ow"; break; case 3: $_gOf="only_\160\141\162t_of_\146\151\154e_up\154\157\141ded"; break; case 4: default : $_gOf="upl\157\141\144_fail\145\144"; break; } $_gOf=array('id' => $_glf[$_gO8],"nam\145" => $_gOe["\156ame"][$_gO8],"\164\171\160e" => $_gOe["type"][$_gO8],"si\172\145" => $_gOe["\163\151\172e"][$_gO8],"resul\164" => $_gOf); array_push($_gle,$_gOf); } } $_glj="<script\040\164\171pe='\164\145\170t/ja\166\141script\047\076try\173\167indow\056\160arent\056\153uldone\155\165\154tipl\145\050\173in\146\157\175);}c\141\164\143h(e)\173\143onsole\056\154og(e.m\145\163sage);\175\074/scri\160\164\076"; $_gOj=json_encode($_gle,TRUE); $_glk=_gO2("\173info}",$_gOj,$_glj); if ($_POST['xhr']) { ob_end_clean(); echo $_gOj; exit (); } else return $_glk; } else if ( isset ($_GET[md5( __FILE__."status")])) { $_gOk="'\173\151\144}':\173\166\175"; $_gll="\173\047time_st\141\162\164':'0\047\054'time\137\154ast':'\060\047,'s\160\145ed_av\145\162\141ge':\047\061','spe\145\144\137last\047\072'1',\047\142\171tes_\165\160loaded\047\040:'0',\047\142\171tes_\164\157tal':'\061\047,'fil\145\163\137uplo\141\144ed':'\061\047,'es\164\137sec':\047\060'}"; $_glm=array(); if ( isset ($_GET["it\145\155\151ds"])) { $_glm=$_GET["itemids"]; } $_gOf="\173"; for ($_gO8=0; $_gO8<sizeof($_glm); $_gO8 ++) { $_gOm=(function_exists("\165ploadp\162\157\147ress\137\147\145t_in\146\157")) ? json_encode(uploadprogress_get_info($_glm[$_gO8])): $_gll; $_gln=_gO2("\173id}",$_glm[$_gO8],$_gOk); $_gln=_gO2("\173\166\175",$_gOm,$_gln); $_gOf.=$_gln; if ($_gO8<sizeof($_glm)-1) $_gOf.="\054"; } $_gOf.="\175"; return $_gOf; } else if ( isset ($_GET[md5( __FILE__."\160rogres\163")])) { $_gOn=explode('.',phpversion()); if (($_gOn[0]*023420+$_gOn[1]*0144+$_gOn[2])<0142340) exit ('PHP 5.4.0 or higher is required'); if (!intval(ini_get('session.upload_progress.enabled'))) exit ('session.upload_progress.enabled is not enabled'); session_start(); $_gOk="'\173\151d}':\173\166\175"; $_glm=array(); if ( isset ($_GET["itemid\163"])) { $_glm=$_GET["itemi\144\163"]; } $_gOf="\173"; for ($_gO8=0; $_gO8<sizeof($_glm); $_gO8 ++) { $_glo=ini_get("\163ession.\165\160\154oad_p\162\157gress.\160\162\145fix").$_glm[$_gO8]; $_gOo=0; if (empty($_SESSION[$_glo])) $_gOo=0144; else { $_glp=$_SESSION[$_glo]; $_gOo=round(($_glp['bytes_processed']/$_glp['content_length'])*0144,2); } $_gOm="\173'\160\162\157gre\163\163\047:".$_gOo.",'b\171\164\145s_pro\143\145\163sed\047\072".$_glp['bytes_processed']."\054\047content_\154\145ngth':".$_glp['content_length']."}"; $_gln=_gO2("\173id}",$_glm[$_gO8],$_gOk); $_gln=_gO2("\173v}",$_gOm,$_gln); $_gOf.=$_gln; if ($_gO8<sizeof($_glm)-1) $_gOf.=","; } $_gOf.="\175"; return $_gOf; } else if ( isset ($_GET[md5( __FILE__."\144\145lete")])) { if (!$this->allowDelete) return FALSE; $_gOf="\102egin del\145\164\151ng"; if ( isset ($_POST["DELETE_I\104\105\116TIFIE\122"])) { $_glc=$_POST["DELE\124\105\137IDEN\124\111\106IER"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); $_gOp=unlink($_gOd."\057".$_glc); if ($_gOp) $_gOf=$_gOd."\057".$_glc." is d\145\154\145ted"; else $_gOf=$_gOd."/".$_glc."\040is NOT \144\145\154eted"; } else $_gOf="\116\157 delete\137\151\144enti\146\151er"; $_glj="\074scr\151\160t type\075\047text\057\152avasc\162\151pt'>\164\162y\173\167\151ndow\056pa\162\145nt.kul\144\145\154eted\157\156\145('\173\151\144}','\173\162esult}\047\054\173inf\157\175\051;}c\141\164\143h(e)\173\175\074/sc\162\151\160t>"; $_glk=_gO2("\173id}",$_POST["UPL\117\101\104_IDEN\124\111\106IER"],$_glj); $_glk=_gO2("\173\162\145\163ult}",$_gOf,$_glk); $_glk=_gO2("\173\151nfo}","\173\175",$_glk); return $_glk; } else if ( isset ($_GET[md5( __FILE__."download")])) { if (!$this->allowDownload) return FALSE; $_gOf="\102\145\147in do\167\156\154oadi\156\147"; if ( isset ($_POST["\104OWNLOA\104\137IDEN\124\111FIER"])) { $_glc=$_POST["\104OWNL\117\101D_I\104\105NTI\106\111ER"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); $_glq=$_gOd."/".$_glc; $_gOq=substr(strrchr($_glc,'.'),1); $_glr=$this->_gls($_glq); if (file_exists($_glq)) { header('Content-Type: '.$_glr); header('Content-Disposition: attachment;filename="'.basename($_glc).'"'); header('Content-Length: '.filesize($_glq)); readfile($_glq); } else { header('HTTP/1.1 404 Not Found'); } } else { $_gOf="\116o DO\127\116\114OAD_\111\104\105NTIF\111\105R"; $_glj="\074script \164\171\160e='te\170\164/javas\143\162\151pt'\076\164ry\173\167\151ndow.p\141\162ent.ku\154\144\157wnlo\141\144\144on\145\050'\173id\175\047\054'\173\162\145\163ult}\047\054\173inf\157\175);}cat\143\150(e)\173\175\074\057scr\151\160\164>"; $_glk=_gO2("\173i\144\175",$_POST["\125\120LOAD_ID\105\116\124IFIE\122"],$_glj); $_glk=_gO2("\173re\163\165\154t}",$_gOf,$_glk); $_glk=_gO2("\173inf\157\175","\173}",$_glk); return $_glk; } } } function _gls($_gOs) { $_glt=realpath($_gOs); if ($_glt && function_exists('finfo_file') && function_exists('finfo_open') && defined( "_gOt")) { return _glu(_gOu(_gOt),$_glt); } if (function_exists('mime_content_type')) { return mime_content_type($_glt); } return FALSE; } function _glv() { $_gOf="Begin\040\144eleting"; if ( isset ($_POST["\104\105LETE_ID\105\116\124IFIE\122"])) { $_glq=$_POST["DELET\105\137\111DENTI\106\111\105R"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); unlink($_gOd."\057".$_glq); $_gOf=$_gOd."/".$_glq." i\163\040\144elete\144"; } else $_gOf="\116\157 delete_\151\144\145ntif\151\145r"; $_glj="<script\040\164\171pe='t\145\170t/java\163\143\162ipt'\076\164ry\173\167\151ndo\167\056parent\056\153uldel\145\164\145done\050\047\173id\175\047,'\173r\145\163\165lt}'\054\173info})\073\175catch\050\145)\173}<\057\163\143ript\076"; $_glk=_gO2("\173\151d}",$_POST["\125\120LOAD_I\104\105\116TIFIE\122"],$_glj); $_glk=_gO2("\173\162esult}",$_gOf,$_glk); $_glk=_gO2("\173\151\156fo}","\173}",$_glk); return $_glk; } } class kooluploader { var $_gl0="\062.1.0.0"; var $id; var $styleFolder=""; var $_gOv; var $scriptFolder=""; var $handlePage=""; var $texts=array("\102\125\124TON_A\104\104" => "Add","\102UTTON\137\125\120LOAD_\101\114L" => "Upload \101\154\154","\102UTTON_\103\114\105AR_AL\114" => "Cle\141\162\040All","\102\125TTON_\125\120\114OAD" => "\125pload","\102\125TTON_REM\117\126\105" => "Re\155\157ve","\102\125\124TON_\103\101\116CEL" => "\103\141\156cel","B\125\124\124ON_DE\114\105\124E" => "\104elete","\115\105SSAGE_UP\114\117\101D_SU\103\103ESSFUL" => "Upl\157\141\144ed!","\115ESSAGE\137\106\111LE_NO\124\137\101LLOW\105\104" => "\116\157t allow\145\144\041","\115\105\123SAGE_F\111\114\105_BIGG\105\122_THAN_\120\110P_ALL\117\127" => "The \146\151\154e is \164\157\157 big\041","MESSAGE\137\106\111LE_BI\107\107\105R_TH\101\116\137FORM\137\101LLOW" => "The fil\145\040\151s too\040\142ig!","ME\123\123\101GE_ON\114\131\137PART\137\117\106_FIL\105\137\125PLO\101\104ED" => "N\157\164\040compl\145\164\145d!","MES\123\101\107E_UPL\117\101\104_FAIL\105\104" => "\106ailed to\040\165\160load\041","MESS\101\107\105_UPLO\101\104\137CANC\105\114" => "\125pload c\141\156\143elled\041","\115ESSAG\105\137\104ELETE\104" => "Delete\144\041"); var $width="\063\0600px"; var $height="200px"; var $updateProgressInterval=03720; var $progressTracking=FALSE; var $showProgressBar=TRUE; var $maxFileSize=07502200; var $uploadedFiles=array(); var $allowedExtension="*"; var $targetFolder=''; var $currentFiles=array(); var $mustHaveFiles=array(); var $allowDelete=FALSE; var $allowDownload=FALSE; var $autoUpload=FALSE; var $multipleUpload=FALSE; var $_glw=''; var $_gOw=''; var $dragAndDrop=TRUE; function __construct($_glx) { $this->id =$_glx; $_gOx=""; if ( isset ($_POST[$_glx."_u\160\154oadedF\151\154es"])) { $_gOx=$_POST[$_glx."_upl\157\141\144edF\151\154\145s"]; } else if ( isset ($_GET[$_glx."\056uploade\144\106iles"])) { $_gOx=$_GET[$_glx."\137uploa\144\145\144File\163"]; } $_gOx=trim(trim($_gOx,"\133|-"),"-|]"); if (strlen($_gOx)>0) { $_gly=explode("-|][|\055",$_gOx); foreach ($_gly as $_gOy) { $_glz=explode("-|-",$_gOy); $_gOz=array("nam\145" => $_glz[0],"\164ype" => $_glz[1],"s\151\172e" => $_glz[2]); array_push($this->uploadedFiles ,$_gOz); } } } function loadxml($_gl10) { if (gettype($_gl10) == "string") { $_gO10=new domdocument(); $_gO10->loadxml($_gl10); $_gl10=$_gO10->documentElement; } $_glx=$_gl10->getattribute("i\144"); if ($_glx != "") $this->id =$_glx; $_gl11=$_gl10->getattribute("\163tyleFol\144\145r"); if ($_gl11 != "") $this->styleFolder =$_gl11; } function handleupload() { $_gO11=''; $_gl12=new kooluploadhandler(); $_gl12->targetFolder ="../../T\145\155p"; $_gl12->allowedExtension ="gif\054\152pg,doc\054\160df,tx\164"; $_gO11.=$_gl12->handleupload(); return $_gO11; } function render() { $_gO12="\n\074!--Kool\125\160loade\162\040vers\151\157n ".$this->_gl0."\040- www.ko\157\154php.ne\164\040-->\n"; $_gO12.=$this->registercss(); $_gO12.=$this->renderuploader(); $_gl13= isset ($_POST["_\137\153oo\154\141ja\170"]) || isset ($_GET["__ko\157\154aja\170"]); $_gO12.=($_gl13) ? "": $this->registerscript(); $_gO12.="<\163\143rip\164\040ty\160\145='t\145\170t/\152\141va\163\143r\151\160t'\076"; $_gO12.=$this->startupscript(); $_gO12.="\074/scri\160\164>"; return $_gO12; } function renderuploader() { $this->_gO13(); $tpl_main="\173\143\157ntai\156\145r}\173\142\164n\101\144d}\173\142tnC\154\145ar\101\154l\175\173btn\125\160lo\141\144All\175"; $tpl_btnAdd="\173\142\164nc\157\156tent\175"; $tpl_btnUploadAll="\173btncon\164\145nt}"; $tpl_btnClearAll="\173\142\164ncon\164\145nt}"; $tpl_btnUpload="\173b\164\156con\164\145nt}"; $tpl_btnRemove="\173btnc\157\156tent\175"; $_gl14="\173b\164\156cont\145\156t}"; $tpl_btnDelete="\173\142tnco\156\164ent\175"; include "st\171\154es"."/".$this->_gOv."/".$this->_gOv."\056tp\154"; $this->_glw =$error_message1; $this->_gOw =$error_message2; $_gO14="\074div\040\151d=\047\173id}\047 cla\163\163='\153\165lT\145\155p\154\141t\145\047 s\164\171le\075\047d\151\163pla\171\072no\156e;'\076\173co\156\164en\164\175</\144\151v>"; $_gl15="\074\144iv \151\144='\173\151d}.\143\157nt\141\151ne\162\047 \143\154a\163\163='\153ulCo\156\164ain\145\162'>\074\057di\166\076"; $_gO15="\074div c\154\141ss=\047\153ul\111\164em\047\076\173\164\160l_\151tem\175\074/\144\151v>"; $_gl16="\074span \143\154as\163\075'k\165\154Te\170\164'>\173\164ex\164}</\163\160a\156\076"; $_gO16="\074in\160\165t t\171\160e=\047\150id\144en'\040\151d\075\047\173\151d}_\165\160l\157\141de\144\106il\145\163' n\141\155e='\173\151d\175\137upl\157\141de\144\106i\154\145s'\040\057>"; $_gl17="<sp\141n id=\047\173i\144}.bt\156.ad\144\047 c\154ass\075'ku\154Ad\144\047>\074a \143\154as\163='k\165\154A'\076\173t\160l_bt\156Ad\144\175<\057\141>\074/sp\141\156>"; $_gO17="\074span\040clas\163\075'\153\165lF\151\154e'\076<in\160\165t\040id=\047\173\151\144}\047 typ\145='fi\154e' \057\076<\057spa\156\076"; $_gl18="\074sp\141\156 i\144\075'\173\151d\175\056b\164\156.\165\160l\157\141d\141ll'\040cla\163s='k\165lUp\154\157ad\101\154l\047\076<\141 cl\141\163s\075'ku\154\101'>\173tpl\137\142tn\125plo\141\144Al\154}</a\076</s\160an>"; $_gO18="\074spa\156\040i\144\075'\173\151d}\056btn\056\143l\145\141r\141ll'\040cl\141ss=\047kul\103\154e\141\162Al\154\047>\074a c\154\141s\163\075'\153\165l\101\047>\173\164pl\137btn\103\154ea\162All\175\074/\141></\163\160a\156\076"; $_gl19="<sp\141\156 cl\141ss='\153\165l\125\160lo\141d'>\074a t\151tle\075'U\160lo\141\144'\040\143l\141\163s=\047kul\101\040k\165\154-\151\143o\156\040k\165l-u\160\154oa\144\137b\162\157w\156\047>\173\164p\154\137b\164\156U\160\154oa\144}</\141\076<\057spa\156\076"; $_gO19="<spa\156 clas\163\075'\153\165lR\145mov\145\047>\074a t\151tle\075'R\145\155o\166e' \143\154as\163='k\165\154A \153ul-\151\143on\040kul\055min\165s_g\162\145y'\076\173t\160l_b\164\156Re\155ove\175\074/\141\076<\057spa\156>"; $_gl1a="\074spa\156\040cl\141\163s=\047\153\165lC\141nce\154'><\141 ti\164le=\047Ca\156cel\047 cl\141\163s=\047kul\101\040k\165\154-i\143\157n \153\165l-\143\162o\163\163-g\162ey-\061\066'\076\173t\160l\137\142tn\103\141nc\145\154}<\057\141>\074\057sp\141\156>"; $_gO1a="<span\040\143las\163='ku\154\104el\145\164e'\076\074a\040tit\154\145=\047Del\145\164e'\040clas\163\075'k\165\154A \153\165l-\151con \153\165l-\143\162o\163\163-g\162\145y-\061\066'>\173\164p\154\137bt\156\104el\145\164e}\074\057a\076\074/\163\160an\076"; $_gl1b="<spa\156\040cla\163\163='\153\165lF\151\154eN\141\155e\047\076 \074/sp\141\156>"; if (!empty($this->mustHaveFiles)) { $_gO1b="\074selec\164\040cl\141\163s='\153\165lD\145\163c\162\151pt\151\157n\047>\173\157\160ti\157\156s}\074/sel\145\143t>"; $_gl1c='"<option></option>";'; foreach ($this->mustHaveFiles as $_gO1c) $_gl1c.= "<\157\160tio\156\040va\154\165e=\047$_gO1c\047>$_gO1c\074/op\164\151on>"; $_gO1b=_gO2("\173opti\157\156s}",$_gl1c,$_gO1b); } else $_gO1b=''; $_gl1d="<\163\160an \143\154ass\075\047k\165\154Pr\157\147r\145\163s'\076<i\155\147 \143\154as\163\075'k\165\154Ba\162\040\173\141\154t\142\141r}\047\040\173\163tyl\145\175 a\154\164='\047/><s\160\141n \143\154a\163\163='\153\165lT\145\170t'\076 </s\160\141n\076\074/\163\160a\156\076"; $_gO1d="<spa\156\040cla\163\163='k\165\154S\164\141tu\163\047>\040\074/\163\160a\156\076"; $_gl1e="\074span\040\143la\163\163='k\165\154Th\165\155bn\141il'\076\040<\057spa\156>"; $_gO1e=_gO2("\173\151d}",$this->id.".mess\141\147e.u\160\154oa\144\137su\143\143es\163\146u\154",$_gO14); $_gO1e=_gO2("\173\143\157nte\156\164}",$this->texts["M\105\123SAG\105\137UP\114\117AD\137\123UC\103\105SS\106UL"],$_gO1e); $_gl1f=_gO2("\173i\144\175",$this->id."\056m\145\163sag\145\056up\154\157ad\137fa\151\154ed",$_gO14); $_gl1f=_gO2("\173\143onten\164\175",$this->texts["ME\123\123AGE\137\125PL\117\101D_\106\101ILE\104"],$_gl1f); $_gO1f=_gO2("\173id}",$this->id."\056messa\147\145.file\137\156ot_al\154\157wed",$_gO14); $_gO1f=_gO2("\173content\175",$this->texts["\115\105SSAGE\137\106ILE\137\116OT\137\101LLO\127\105D"],$_gO1f); $_gl1g=_gO2("\173\151\144}",$this->id.".me\163\163\141ge.f\151\154e_big\147\145r_tha\156\137php\137\141l\154\157w",$_gO14); $_gl1g=_gO2("\173c\157\156tent}",$this->texts["MESSAGE\137\106\111LE_B\111\107GER_T\110\101N_PHP\137\101LLOW"],$_gl1g); $_gO1g=_gO2("\173id}",$this->id.".m\145\163\163age.f\151\154\145_bi\147\147\145r_th\141\156_form\137\141llow",$_gO14); $_gO1g=_gO2("\173\143\157ntent}",$this->texts["\115\105\123SAGE_\106\111\114E_BI\107\107\105R_TH\101\116_FORM\137\101LLOW"],$_gO1g); $_gl1h=_gO2("\173id}",$this->id.".message\056\157\156ly_p\141\162\164_of_\146\151\154e_up\154\157aded",$_gO14); $_gl1h=_gO2("\173\143ontent}",$this->texts["\115\105\123SA\107E_ONL\131\137PAR\124\137OF_F\111\114E_UP\114\117ADED"],$_gl1h); $_gO1h=_gO2("\173id}",$this->id.".m\145\163\163age.u\160\154\157ad_c\141\156\143el",$_gO14); $_gO1h=_gO2("\173c\157\156\164ent}",$this->texts["ME\123\123\101GE_UP\114\117\101D_CA\116\103\105L"],$_gO1h); $_gl1i=_gO2("\173id}",$this->id."\056messa\147\145\056dele\164\145\144",$_gO14); $_gl1i=_gO2("\173\143ontent\175",$this->texts["MESS\101\107E_DELE\124ED"],$_gl1i); $_gO1i=_gO2("\173id}",$this->id."\056templat\145\056item",$_gO14); $_gO1i=_gO2("\173\143ontent\175",$_gO15,$_gO1i); $_gO1i=_gO2("\173\164\160l_it\145\155}",$tpl_item,$_gO1i); $_gl1j=_gO2("\173\164\160\154_btnR\145\155\157ve}",$tpl_btnRemove,$_gO19); $_gl1j=_gO2("\173\142\164nconte\156\164\175",$this->texts["\102\125TTON_REM\117\126\105"],$_gl1j); $_gO1j=_gO2("\173\164\160l_btnU\160\154\157ad}",$tpl_btnUpload,$_gl19); $_gO1j=_gO2("\173\142\164nconten\164\175",$this->texts["BUTT\117\116\137UPLOA\104"],$_gO1j); $_gl1k=_gO2("\173\164\160l_btnCa\156\143\145l}",$tpl_btnUpload,$_gl1a); $_gl1k=_gO2("\173b\164\156\143onten\164\175",$this->texts["BU\124\124\117N_CANC\105\114"],$_gl1k); $_gO1k=_gO2("\173\164pl_bt\156\104\145lete\175",$tpl_btnDelete,$_gO1a); $_gO1k=_gO2("\173bt\156\143\157ntent\175",$this->texts["BUTTON\137\104\105LETE"],$_gO1k); $_gO1i=_gO2("\173btnUpl\157\141\144}",$_gO1j,$_gO1i); $_gO1i=_gO2("\173\142tnRemo\166\145\175",$_gl1j,$_gO1i); $_gO1i=_gO2("\173\142\164nCancel\175",$_gl1k,$_gO1i); $_gO1i=_gO2("\173btnDele\164\145\175",$_gO1k,$_gO1i); $_gO1i=_gO2("\173file\156\141me}",$_gl1b,$_gO1i); $_gO1i=_gO2("\173descri\160\164ion}",$_gO1b,$_gO1i); $_gO1i=_gO2("\173stat\165\163\175",$_gO1d,$_gO1i); $_gO1i=_gO2("\173thum\142\156\141il}",$_gl1e,$_gO1i); $_gl1l=_gO2("\173\163\164yleFo\154\144\145r}",$this->styleFolder ,$_gl1d); $_gl1l=_gO2("\173\141\154tbar}",($this->progressTracking) ? (function_exists("\165ploadpr\157\147\162ess_g\145\164_info") ? "": "\153\165lAltBa\162"): "\153\165\154AltBar",$_gl1l); $_gl1l=_gO2("\173sty\154\145\175",($this->showProgressBar) ? "": "\163tyle\075\047displ\141\171:none\073\047",$_gl1l); $_gO1i=_gO2("\173progr\145\163s}",$_gl1l,$_gO1i); $_gO1l=_gO2("\173\151\144}",$this->id ,$_gl17); $_gO1l=_gO2("\173\164pl_btn\101\144d}",$tpl_btnAdd,$_gO1l); $_gO1l=_gO2("\173btnc\157\156\164ent}",$this->texts["B\125\124\124ON_ADD"],$_gO1l); $_gl1m=_gO2("\173i\144\175",$this->id ,$_gl18); $_gl1m=_gO2("\173t\160\154\137btn\125\160\154oad\101\154l}",$tpl_btnUploadAll,$_gl1m); $_gl1m=_gO2("\173\142tnconte\156\164}",$this->texts["\102\125TTON_UP\114\117\101D_AL\114"],$_gl1m); $_gO1m=_gO2("\173\151\144}",$this->id ,$_gO18); $_gO1m=_gO2("\173\164pl_btnC\154\145arAll}",$tpl_btnClearAll,$_gO1m); $_gO1m=_gO2("\173\142\164\156conte\156\164\175",$this->texts["BUTTON_C\114\105\101R_ALL"],$_gO1m); $_gl1n=_gO2("\173\151\144\175",$this->id ,$_gl15); $_gO1n=_gO2("\173con\164\141\151ner}",$_gl1n,$tpl_main); $_gO1n=_gO2("\173\142tnAdd}",$_gO1l,$_gO1n); $_gO1n=_gO2("\173btnUp\154\157\141dAll}",$_gl1m,$_gO1n); $_gO1n=_gO2("\173\142\164nClear\101\154\154}",$_gO1m,$_gO1n); $_gl8=_gO2("\173id}",$this->id ,_gl7()); $_gl8=_gO2("\173\163\164yle}",$this->_gOv ,$_gl8); $_gl8=_gO2("\173\167\151dth}",$this->width ,$_gl8); $_gl8=_gO2("\173\150\145ight}",$this->height ,$_gl8); if (_gO7($_gl8)) { $_gl8=_gO2("\173\164\145\155plate\163\175",$_gO1e.$_gO1f.$_gl1f.$_gO1i.$_gl1g.$_gO1g.$_gl1h.$_gO1h.$_gl1i,$_gl8); } $_gl8=_gO2("\173\166ersi\157\156}",$this->_gl0 ,$_gl8); $_gl8=_gO2("\173mainc\157\156ten\164\175",$_gO1n,$_gl8); $_gl8=_gO2("\173uplo\141\144edFi\154\145s}",_gO2("\173id}",$this->id ,$_gO16),$_gl8); return $_gl8; } function _gO13() { $this->styleFolder =_gO2("\134","\057",$this->styleFolder); $_gl11=trim($this->styleFolder ,"/"); $_gl1o=strrpos($_gl11,"/"); $this->_gOv =substr($_gl11,($_gl1o ? $_gl1o: -1)+1); } function registercss() { $this->_gO13(); $_gO1o="<\163\143ript ty\160\145='text\057\152avas\143\162\151pt'>\151\146 (do\143\165ment.\147\145\164Elem\145\156\164ById\050\047__\173\163\164yle}KU\114\047)==nul\154\051\173var\040\137head \075\040docume\156\164.getEl\145\155entsBy\124\141gName(\047\150ead')\133\060];var\040\137link \075\040docum\145\156t.crea\164\145Eleme\156\164\050'li\156\153\047); \137\154\151nk.\151\144\040= '\137\137\173sty\154\145\175KUL'\073\137link.\162\145l='st\171\154\145she\145\164\047; _\154\151\156k.h\162\145\146='\173\163\164ylep\141\164h}/\173\163\164yle\175\057\173st\171\154\145}.c\163\163\047;_h\145\141d.app\145\156dChil\144\050_lin\153\051; _l\151\156\153 = \144\157cumen\164\056crea\164\145\105lem\145\156t('li\156\153'); \137\154ink.i\144\040= '_\137\113UL';\137\154\151nk.\162\145l='s\164\171\154esh\145\145t'; \137\154ink.h\162\145f='\173\163\164yle\160\141\164h}/\153\157olup\154\157ader\056\143ss';\137\150ead.\141\160pendC\150\151ld(_\154\151nk);\175\074/scr\151\160t>"; $_gO12=_gO2("\173\163\164yle}",$this->_gOv ,$_gO1o); $_gO12=_gO2("\173stylepat\150\175",$this->_gl1p(),$_gO12); return $_gO12; } function registerscript($_gO1p=TRUE) { $this->_gO13(); if ($_gO1p) { $_gO1o="\074scr\151\160\164 ty\160\145='tex\164\057javas\143\162ipt'\076\151f(t\171\160eof \137\154ibKUL=\075\047unde\146\151ned')\173\144ocume\156\164.writ\145\050unes\143\141pe(\042\045\063\103\163crip\164\040type=\047\164\145xt/j\141\166ascrip\164\047 src=\047\173src}'\045\063E %3C\057\163cript\045\063E\042)\051\073_libKU\114\0751;}"; $_gO1o.="\151f(typeo\146\040\173styl\145\175KULIni\164\075='unde\146\151ned'\051\173docu\155\145\156t.wr\151\164\145(une\163\143\141pe(\042\0453Cscri\160\164 type=\047\164ext/j\141\166\141scri\160\164\047 src\075\047\173sty\154\145\160ath\175\057\173styl\145\175\057\173\163\164\171le}\056\152s'%3E \045\063C/scr\151\160t%3E\042\051\051;}</\163\143ript>"; } else $_gO1o="\074\163cript \164\171\160e='t\145\170t/java\163\143\162ipt\047\076if(t\171\160eof _\154\151\142KUL=\075\047undefi\156\145\144')\173\144\157cumen\164\056write\050\165\156esca\160\145\050\042%\063\103scrip\164\040\164ype=\047\164ext/j\141\166\141scri\160\164' src\075\047\173src\175\047%3E %\063\103/scri\160\164\0453E\042\051\051;_li\142\113UL=1;\175\074/scri\160\164\076"; $_gO12=_gO2("\173src}",$this->_gl1q()."?".md5("\152s"),$_gO1o); $_gO12=_gO2("\173\163\164yle}",$this->_gOv ,$_gO12); $_gO12=_gO2("\173\163\164\171lepa\164\150\175",$this->_gl1p(),$_gO12); return $_gO12; } function startupscript() { $this->_gO13(); $_glz=array('id' => $this->id ,'handlePage' => $this->handlePage ,'upload' => md5( __FILE__."\165pload"),'status' => md5( __FILE__."status"),'progress' => md5( __FILE__."prog\162\145\163s"),'del' => md5( __FILE__."delet\145"),'download' => md5( __FILE__."downl\157\141\144"),'updateProgressInterval' => $this->updateProgressInterval ,'progressTracking' => ($this->progressTracking) ? (function_exists("uploa\144\160\162ogres\163\137\147et_i\156\146o") ? TRUE: FALSE): FALSE,'maxFileSize' => $this->maxFileSize ,'allowedExtension' => $this->allowedExtension ,'targetFolder' => $this->targetFolder ,'currentFiles' => $this->currentFiles ,'mustHaveFiles' => $this->mustHaveFiles ,'allowDelete' => $this->allowDelete ,'allowDownload' => $this->allowDownload ,'autoUpload' => $this->autoUpload ,'multipleUpload' => $this->multipleUpload ,'errorMessage1' => $this->_glw ,'errorMessage2' => $this->_gOw ,'dragAndDrop' => $this->dragAndDrop ,); $_gO1q="\166ar \165\160lo\141d_pr\157\147res\163\137na\155\145='".ini_get("sessi\157\156\056upl\157\141\144_pro\147\162ess.na\155\145")."\047\073if(typeo\146\040\173sty\154\145}KULIn\151\164!='un\144\145fine\144\047)\173\173\163\164yle}K\125\114\111nit(\047\173id}')\073\175 var \173\151\144}=ne\167\040KoolUp\154\157ader(\173\151\156fo});"; $_gO12=_gO2("\173id}",$this->id ,$_gO1q); $_gO12=_gO2("\173\163\164yle}",$this->_gOv ,$_gO12); $_gO12=_gO2("\173info}",json_encode($_glz,TRUE),$_gO12); return $_gO12; } function _gl1q() { if ($this->scriptFolder == "") { $_gO3=_gO1(); $_glq=substr(_gO2("\134","\057",__FILE__),strlen($_gO3)); return $_glq; } else { $_glq=_gO2("\134","/",__FILE__); $_glq=$this->scriptFolder.substr($_glq,strrpos($_glq,"/")); return $_glq; } } function _gl1p() { $_gl1r=$this->_gl1q(); $_gO1r=_gO2(strrchr($_gl1r,"\057"),"",$_gl1r)."\057styles"; return $_gO1r; } } } ?>